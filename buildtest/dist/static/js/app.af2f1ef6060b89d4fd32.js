webpackJsonp([1],{"317P":function(e,t,n){e.exports=n.p+"static/img/论文3.9095cf0.jpg"},"4q4r":function(e,t){},BupP:function(e,t){},LlRI:function(e,t,n){e.exports=n.p+"static/img/论文2.940c028.jpg"},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),r=n("zL8q"),o=n.n(r),i=(n("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var l=n("VU/8")({name:"App"},i,!1,function(e){n("4q4r")},null,null).exports,s=n("/ocq"),u=n("Xxa5"),c=n.n(u),d=n("exGp"),p=n.n(d),f=n("mtWM"),h={name:"TheisVue",data:function(){return{queryInfo:{theis_name:"",page_index:1,page_number:5},theislist:[],downlist:[],total:0,downloadDialogVisbile:!1}},created:function(){this.getTheis()},methods:{getTheisData:function(){this.queryInfo.page_index=1,this.getTheis()},getTheis:function(){var e=this;return p()(c.a.mark(function t(){var n,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("get_theis_title",{params:e.queryInfo});case 2:if(n=t.sent,a=n.data,console.log("res = ",a),200===a.status){t.next=7;break}return t.abrupt("return",e.$message.error("获取论文列表失败"));case 7:console.log("res.data =",a.data),null!=a.data?(a.data.forEach(function(e){e.prices="8.88元",e.tips="QQ:2129811510   微信:tobebetterman888"}),e.theislist=a.data):e.theislist=[],e.total=a.total;case 10:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){console.log("newSize=",e),this.queryInfo.page_number=e,this.getTheis()},handleCurrentChange:function(e){this.queryInfo.page_index=e,this.getTheis()},download:function(e){var t=this;return p()(c.a.mark(function n(){var a,r;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("get_url",{params:{search:e.title}});case 2:if(a=n.sent,r=a.data,console.log("res = ",r),200===r.status){n.next=7;break}return n.abrupt("return",t.$message.error("下载获取失败"));case 7:t.downlist=r.data,t.downloadDialogVisbile=!0;case 9:case"end":return n.stop()}},n,t)}))()},closeDownloadVisbile:function(){},downloadUrl:function(e){var t=this;return p()(c.a.mark(function n(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.location.href="http://101.42.97.221:8080//get_file?path="+e;case 1:case"end":return t.stop()}},n,t)}))()}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("el-alert",{staticClass:"AlertTitle",attrs:{title:"本科论文查询网站, 论文已经在维普、万方查过重。懂的都懂！！！！",type:"success",effect:"dark"}}),e._v(" "),a("img",{staticClass:"img",attrs:{src:n("LlRI")}}),e._v("                 \n                    \n    "),a("img",{staticClass:"img",attrs:{src:n("317P")}}),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"请输入论文名称",clearable:""},on:{clear:function(t){return e.getTheis()}},model:{value:e.queryInfo.theis_name,callback:function(t){e.$set(e.queryInfo,"theis_name",t)},expression:"queryInfo.theis_name"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.getTheisData()}},slot:"append"})],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.theislist,border:"",size:"medium",border:""}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"论文题目"}}),e._v(" "),a("el-table-column",{attrs:{prop:"size",label:"大小",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.size)+e._s(t.row.type)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"tips",label:"获取",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prices",label:"价格",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"下载",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-download",circle:""},on:{click:function(n){return e.download(t.row)}}})]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.queryInfo.page_index,"page-sizes":[5,10,15],"page-size":e.queryInfo.page_number,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"下载",visible:e.downloadDialogVisbile,width:"50%"},on:{"update:visible":function(t){e.downloadDialogVisbile=t},close:e.closeDownloadVisbile}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.downlist,border:"",size:"medium",border:""}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"下载"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(n){return e.downloadUrl(t.row.url)}}},[e._v("下载")])]}}])})],1)],1)],1)},staticRenderFns:[]};var b=n("VU/8")(h,g,!1,function(e){n("BupP")},"data-v-7e9f2e54",null).exports;a.default.use(s.a);var m=new s.a({routes:[{path:"/",redirect:"/query_theis"},{path:"/query_theis",name:"TheisVue",component:b}]}),v={bind:function(e,t){t.value.url&&e.addEventListener("click",function(){var e=document.createElement("a"),n=t.value.url;fetch(n).then(function(e){return e.blob()}).then(function(n){e.href=URL.createObjectURL(n),console.log(e.href),e.download=t.value.name||"",document.body.appendChild(e),e.click(),window.URL.revokeObjectURL(e.href),document.body.removeChild(e)})})}};v.install=function(e){e.directive("downLoadUrl",v)};var w=v,_={install:function(e){e.prototype.getTime=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var a=e.getDate();a=a<10?"0"+a:a,alert(t+n+a)}}};a.default.use(_),a.default.use(w),a.default.use(o.a),f.a.defaults.baseURL="http://101.42.97.221:8080/",a.default.prototype.$http=f.a,a.default.config.productionTip=!1,new a.default({el:"#app",router:m,components:{App:l},template:"<App/>"})},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.af2f1ef6060b89d4fd32.js.map